{"id":"opencode-agent-skills-12p","title":"Delete .opencode/plugin/test-framework.ts","description":"Remove .opencode/plugin/test-framework.ts - no longer needed after preflight logic is integrated into main plugin.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-11T23:25:01.573207904-06:00","updated_at":"2025-12-11T23:32:45.200856775-06:00","closed_at":"2025-12-11T23:32:45.200856775-06:00","dependencies":[{"issue_id":"opencode-agent-skills-12p","depends_on_id":"opencode-agent-skills-w39","type":"blocks","created_at":"2025-12-11T23:25:24.90381016-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-2fl","title":"Add getSkillSummaries() to src/skills.ts","description":"Add getSkillSummaries(directory) function that returns Array\u003c{name: string, description: string}\u003e for all discovered skills. Used by preflight to build the evaluation prompt.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T23:24:59.806069936-06:00","updated_at":"2025-12-11T23:29:28.77719484-06:00","closed_at":"2025-12-11T23:29:28.77719484-06:00"}
{"id":"opencode-agent-skills-2kj","title":"Reorganize modules to break circular dependencies","description":"Create generic findFile() in utils.ts, remove SkillDiscoveryResult in favor of generic type, move injectSkillsList to skills.ts, reorder types closer to usage. Breaks skills.ts \u003c-\u003e claude.ts and skills.ts \u003c-\u003e utils.ts cycles.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T15:49:55.631292958-06:00","updated_at":"2025-12-11T15:53:56.102314236-06:00","closed_at":"2025-12-11T15:53:56.102314236-06:00"}
{"id":"opencode-agent-skills-5rt","title":"Create src/preflight.ts - LLM preflight call logic","description":"Create preflight.ts with:\n- findCheapestModel(): Select Haiku \u003e gpt-4o-mini \u003e gemini-flash\n- makePreflightCall(): Support both OAuth fetch and API key auth\n- parseSkillResponse(): Extract JSON array from LLM response\n- PREFLIGHT_TIMEOUT_MS = 2000\n- Prompt template for skill evaluation","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T23:24:59.247808519-06:00","updated_at":"2025-12-11T23:30:37.370989544-06:00","closed_at":"2025-12-11T23:30:37.370989544-06:00","dependencies":[{"issue_id":"opencode-agent-skills-5rt","depends_on_id":"opencode-agent-skills-2fl","type":"blocks","created_at":"2025-12-11T23:25:23.765941577-06:00","created_by":"daemon"},{"issue_id":"opencode-agent-skills-5rt","depends_on_id":"opencode-agent-skills-bar","type":"blocks","created_at":"2025-12-11T23:25:23.78402797-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-5zo","title":"Refactor plugin.ts into modules","description":"","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-11T14:23:35.561297637-06:00","updated_at":"2025-12-11T14:30:33.091125737-06:00","closed_at":"2025-12-11T14:30:33.091125737-06:00"}
{"id":"opencode-agent-skills-5zo.1","title":"Create src/utils.ts with parsing and helper functions","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T14:23:39.074526959-06:00","updated_at":"2025-12-11T14:26:30.688903474-06:00","closed_at":"2025-12-11T14:26:30.688903474-06:00","dependencies":[{"issue_id":"opencode-agent-skills-5zo.1","depends_on_id":"opencode-agent-skills-5zo","type":"parent-child","created_at":"2025-12-11T14:23:39.075357181-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-5zo.2","title":"Create src/claude.ts with Claude Code compatibility","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T14:23:39.779815928-06:00","updated_at":"2025-12-11T14:25:38.866179258-06:00","closed_at":"2025-12-11T14:25:38.866179258-06:00","dependencies":[{"issue_id":"opencode-agent-skills-5zo.2","depends_on_id":"opencode-agent-skills-5zo","type":"parent-child","created_at":"2025-12-11T14:23:39.780578709-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-5zo.3","title":"Create src/skills.ts with core skill logic","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T14:23:40.433600824-06:00","updated_at":"2025-12-11T14:26:23.419210127-06:00","closed_at":"2025-12-11T14:26:23.419210127-06:00","dependencies":[{"issue_id":"opencode-agent-skills-5zo.3","depends_on_id":"opencode-agent-skills-5zo","type":"parent-child","created_at":"2025-12-11T14:23:40.434338347-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-5zo.4","title":"Create src/superpowers.ts with bootstrap logic","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T14:23:41.072413684-06:00","updated_at":"2025-12-11T14:26:41.291846921-06:00","closed_at":"2025-12-11T14:26:41.291846921-06:00","dependencies":[{"issue_id":"opencode-agent-skills-5zo.4","depends_on_id":"opencode-agent-skills-5zo","type":"parent-child","created_at":"2025-12-11T14:23:41.073221713-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-5zo.5","title":"Refactor src/plugin.ts to import from new modules","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T14:23:41.821033937-06:00","updated_at":"2025-12-11T14:29:45.359550825-06:00","closed_at":"2025-12-11T14:29:45.359550825-06:00","dependencies":[{"issue_id":"opencode-agent-skills-5zo.5","depends_on_id":"opencode-agent-skills-5zo","type":"parent-child","created_at":"2025-12-11T14:23:41.821804985-06:00","created_by":"daemon"},{"issue_id":"opencode-agent-skills-5zo.5","depends_on_id":"opencode-agent-skills-5zo.1","type":"blocks","created_at":"2025-12-11T14:23:51.808047095-06:00","created_by":"daemon"},{"issue_id":"opencode-agent-skills-5zo.5","depends_on_id":"opencode-agent-skills-5zo.2","type":"blocks","created_at":"2025-12-11T14:23:51.823527751-06:00","created_by":"daemon"},{"issue_id":"opencode-agent-skills-5zo.5","depends_on_id":"opencode-agent-skills-5zo.3","type":"blocks","created_at":"2025-12-11T14:23:51.843872058-06:00","created_by":"daemon"},{"issue_id":"opencode-agent-skills-5zo.5","depends_on_id":"opencode-agent-skills-5zo.4","type":"blocks","created_at":"2025-12-11T14:23:51.858312338-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-5zo.6","title":"Rename plugin.test.ts to utils.test.ts","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T14:23:42.414958849-06:00","updated_at":"2025-12-11T14:27:30.866711465-06:00","closed_at":"2025-12-11T14:27:30.866711465-06:00","dependencies":[{"issue_id":"opencode-agent-skills-5zo.6","depends_on_id":"opencode-agent-skills-5zo","type":"parent-child","created_at":"2025-12-11T14:23:42.415728975-06:00","created_by":"daemon"},{"issue_id":"opencode-agent-skills-5zo.6","depends_on_id":"opencode-agent-skills-5zo.1","type":"blocks","created_at":"2025-12-11T14:23:52.433028397-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-5zo.7","title":"Verify tests and typecheck pass","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T14:23:43.017035274-06:00","updated_at":"2025-12-11T14:30:23.601415553-06:00","closed_at":"2025-12-11T14:30:23.601415553-06:00","dependencies":[{"issue_id":"opencode-agent-skills-5zo.7","depends_on_id":"opencode-agent-skills-5zo","type":"parent-child","created_at":"2025-12-11T14:23:43.017979435-06:00","created_by":"daemon"},{"issue_id":"opencode-agent-skills-5zo.7","depends_on_id":"opencode-agent-skills-5zo.5","type":"blocks","created_at":"2025-12-11T14:23:53.299560946-06:00","created_by":"daemon"},{"issue_id":"opencode-agent-skills-5zo.7","depends_on_id":"opencode-agent-skills-5zo.6","type":"blocks","created_at":"2025-12-11T14:23:53.313004802-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-924","title":"Investigate LLM eval for skill activation reliability","description":"Improve skill activation reliability using techniques from blog post: https://scottspence.com/posts/how-to-make-claude-code-skills-activate-reliably\n\nCurrently skills are injected as a passive list (~20% activation). Two approaches to improve:\n1. Forced eval: Assertive prompting requiring YES/NO evaluation (~84% success)\n2. LLM eval: Pre-evaluate with cheap model like Haiku (~80% success)\n\nKey findings:\n- chat.message hook fires on EVERY user message (not just first)\n- SDK's client.provider.list() may expose API keys\n- Plugins have full network access (fetch)\n\nNext steps:\n1. Test if client.provider.list() returns API keys\n2. Test making LLM call from within plugin\n3. Choose approach (forced eval vs LLM eval vs hybrid)\n\nHandoff gist: https://gist.github.com/joshuadavidthomas/c1aa97afa3cbf03313fd91c9b4e2f25a","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-11T19:03:57.752076888-06:00","updated_at":"2025-12-11T23:25:30.636361047-06:00","closed_at":"2025-12-11T23:25:30.636361047-06:00"}
{"id":"opencode-agent-skills-bar","title":"Add extractTextFromParts() to src/utils.ts","description":"Add extractTextFromParts(parts: Part[]) function that extracts user text content from message parts array. Returns concatenated text from all text-type parts.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T23:25:00.33258978-06:00","updated_at":"2025-12-11T23:29:28.778896977-06:00","closed_at":"2025-12-11T23:29:28.778896977-06:00"}
{"id":"opencode-agent-skills-bry","title":"Extract common skill discovery pattern and fix redundant fs.stat() calls","description":"Extract tryDiscoverSkill() helper to eliminate 3 instances of duplicated SKILL.md validation. Add SkillDiscoveryResult type alias for cleaner function signatures. Fix 2 redundant fs.stat() calls in discoverPluginCacheSkills by using Dirent .isDirectory(). Affects: src/skills.ts and src/claude.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T15:21:20.336139121-06:00","updated_at":"2025-12-11T15:23:58.531133265-06:00","closed_at":"2025-12-11T15:23:58.531133265-06:00"}
{"id":"opencode-agent-skills-jwn","title":"Improve error messages with 'Did you mean...' fuzzy matching suggestions","description":"","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-11T13:45:59.966290839-06:00","updated_at":"2025-12-11T13:58:20.685001906-06:00","closed_at":"2025-12-11T13:58:20.685001906-06:00"}
{"id":"opencode-agent-skills-jwn.1","title":"Add levenshtein() utility function","description":"Implement Levenshtein edit distance algorithm (~15 lines). Used as fallback when prefix/substring matching doesn't apply.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:46:05.638538153-06:00","updated_at":"2025-12-11T13:53:40.957288768-06:00","closed_at":"2025-12-11T13:53:40.957288768-06:00","dependencies":[{"issue_id":"opencode-agent-skills-jwn.1","depends_on_id":"opencode-agent-skills-jwn","type":"parent-child","created_at":"2025-12-11T13:46:05.639979417-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-jwn.2","title":"Add findClosestMatch() utility function","description":"Combined scoring function: prefix match (0.9+), substring match (0.7), then Levenshtein similarity. Returns best match above 0.4 threshold. Case-insensitive.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:46:07.156957664-06:00","updated_at":"2025-12-11T13:54:05.909120919-06:00","closed_at":"2025-12-11T13:54:05.909120919-06:00","dependencies":[{"issue_id":"opencode-agent-skills-jwn.2","depends_on_id":"opencode-agent-skills-jwn","type":"parent-child","created_at":"2025-12-11T13:46:07.158254775-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-jwn.3","title":"Update use_skill error handling with fuzzy suggestion","description":"Replace 'Available skills: ...' with 'Did you mean X?' when close match found. Fall back to 'Use find_skills to list available skills.' when no close match.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:46:08.778750232-06:00","updated_at":"2025-12-11T13:54:27.954767995-06:00","closed_at":"2025-12-11T13:54:27.954767995-06:00","dependencies":[{"issue_id":"opencode-agent-skills-jwn.3","depends_on_id":"opencode-agent-skills-jwn","type":"parent-child","created_at":"2025-12-11T13:46:08.779801606-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-jwn.4","title":"Update read_skill_file error handling with fuzzy suggestion","description":"Add 'Did you mean X?' suggestion when skill name not found.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:46:09.735123758-06:00","updated_at":"2025-12-11T13:54:45.777229713-06:00","closed_at":"2025-12-11T13:54:45.777229713-06:00","dependencies":[{"issue_id":"opencode-agent-skills-jwn.4","depends_on_id":"opencode-agent-skills-jwn","type":"parent-child","created_at":"2025-12-11T13:46:09.735972859-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-jwn.5","title":"Update run_skill_script error handling with fuzzy suggestion","description":"Add 'Did you mean X?' suggestion for both skill name AND script name when not found.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:46:10.656976953-06:00","updated_at":"2025-12-11T13:55:07.387865399-06:00","closed_at":"2025-12-11T13:55:07.387865399-06:00","dependencies":[{"issue_id":"opencode-agent-skills-jwn.5","depends_on_id":"opencode-agent-skills-jwn","type":"parent-child","created_at":"2025-12-11T13:46:10.657734991-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-jwn.6","title":"Update find_skills error handling with fuzzy suggestion","description":"When query returns no matches, suggest closest skill names if any are above threshold.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:46:11.763574596-06:00","updated_at":"2025-12-11T13:55:29.184292267-06:00","closed_at":"2025-12-11T13:55:29.184292267-06:00","dependencies":[{"issue_id":"opencode-agent-skills-jwn.6","depends_on_id":"opencode-agent-skills-jwn","type":"parent-child","created_at":"2025-12-11T13:46:11.7648945-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-jwn.7","title":"Add tests for fuzzy matching","description":"Test cases: exact match (no suggestion), typo correction, prefix matching, substring matching, no close matches (threshold), case insensitivity.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:46:13.041546168-06:00","updated_at":"2025-12-11T13:57:51.802893881-06:00","closed_at":"2025-12-11T13:57:51.802893881-06:00","dependencies":[{"issue_id":"opencode-agent-skills-jwn.7","depends_on_id":"opencode-agent-skills-jwn","type":"parent-child","created_at":"2025-12-11T13:46:13.042363669-06:00","created_by":"daemon"},{"issue_id":"opencode-agent-skills-jwn.7","depends_on_id":"opencode-agent-skills-jwn.9","type":"blocks","created_at":"2025-12-11T13:49:20.33710095-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-jwn.8","title":"Update CHANGELOG with fuzzy matching feature","description":"Add entry for 'Did you mean...' suggestions in error messages. Document which tools are affected and the matching behavior (prefix, substring, Levenshtein).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:48:17.35661447-06:00","updated_at":"2025-12-11T13:58:06.715608912-06:00","closed_at":"2025-12-11T13:58:06.715608912-06:00","dependencies":[{"issue_id":"opencode-agent-skills-jwn.8","depends_on_id":"opencode-agent-skills-jwn","type":"parent-child","created_at":"2025-12-11T13:48:17.357437599-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-jwn.9","title":"Set up test infrastructure","description":"Create initial test setup with Bun's built-in test runner. Add first test file structure and verify bun test works.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T13:49:15.113973313-06:00","updated_at":"2025-12-11T13:56:00.020805462-06:00","closed_at":"2025-12-11T13:56:00.020805462-06:00","dependencies":[{"issue_id":"opencode-agent-skills-jwn.9","depends_on_id":"opencode-agent-skills-jwn","type":"parent-child","created_at":"2025-12-11T13:49:15.11574767-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-tfm","title":"Simplify discoverAllSkills and remove redundant label parameters","description":"Refactor discoverAllSkills to collect all SkillDiscoveryResult[] into one array then process once. Remove unnecessary label parameter from discoverPluginCacheSkills and discoverMarketplaceSkills since they always return claude-plugins.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T15:38:05.508946799-06:00","updated_at":"2025-12-11T15:39:16.212259904-06:00","closed_at":"2025-12-11T15:39:16.212259904-06:00"}
{"id":"opencode-agent-skills-u02","title":"Extract tools to src/tools.ts with factory pattern","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T14:37:13.744183768-06:00","updated_at":"2025-12-11T14:43:32.866267257-06:00","closed_at":"2025-12-11T14:43:32.866267257-06:00"}
{"id":"opencode-agent-skills-vqf","title":"Test and verify preflight skill activation","description":"Manual testing:\n1. New session, first message: verify nothing additional injected\n2. Second message about git: verify git-helper suggested\n3. Message about brainstorming: verify brainstorming suggested  \n4. Unrelated message: verify nothing injected\n5. Verify 2s timeout behavior","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-11T23:25:02.568442005-06:00","updated_at":"2025-12-11T23:32:51.82699937-06:00","dependencies":[{"issue_id":"opencode-agent-skills-vqf","depends_on_id":"opencode-agent-skills-w39","type":"blocks","created_at":"2025-12-11T23:25:25.415332153-06:00","created_by":"daemon"}]}
{"id":"opencode-agent-skills-w39","title":"Update src/plugin.ts with preflight integration","description":"Update plugin.ts with:\n- Module-level sessionAuthCache Map\u003csessionID, {oauthFetch, providerId, baseURL}\u003e\n- Module-level apiKeyAuth captured at plugin init\n- chat.params hook to cache OAuth fetch\n- Modified chat.message hook for preflight flow\n- event hook to cleanup sessionAuthCache on session.deleted\n- Inject matched skill summaries (not full content)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T23:25:00.964213171-06:00","updated_at":"2025-12-11T23:32:22.893089296-06:00","closed_at":"2025-12-11T23:32:22.893089296-06:00","dependencies":[{"issue_id":"opencode-agent-skills-w39","depends_on_id":"opencode-agent-skills-5rt","type":"blocks","created_at":"2025-12-11T23:25:24.388171337-06:00","created_by":"daemon"}]}
